(()=>{"use strict";var __webpack_modules__={944:module=>{module.exports=require("macos-version")},857:module=>{module.exports=require("os")}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}__webpack_require__.n=module=>{var getter=module&&module.__esModule?()=>module.default:()=>module;return __webpack_require__.d(getter,{a:getter}),getter},__webpack_require__.d=(exports,definition)=>{for(var key in definition)__webpack_require__.o(definition,key)&&!__webpack_require__.o(exports,key)&&Object.defineProperty(exports,key,{enumerable:!0,get:definition[key]})},__webpack_require__.o=(obj,prop)=>Object.prototype.hasOwnProperty.call(obj,prop),__webpack_require__.r=exports=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{__webpack_require__.r(__webpack_exports__);require("reflect-metadata");const external_electron_namespaceObject=require("electron"),external_inversify_namespaceObject=require("inversify");var __decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let IpcService=class{on(channel,listener){external_electron_namespaceObject.ipcRenderer.on(channel,listener)}send(channel,...args){external_electron_namespaceObject.ipcRenderer.send(channel,...args)}emit(channel,...args){external_electron_namespaceObject.ipcRenderer.emit(channel,...args)}};IpcService=__decorate([(0,external_inversify_namespaceObject.injectable)()],IpcService);const services_IpcService=IpcService,external_electron_settings_namespaceObject=require("electron-settings");var external_electron_settings_default=__webpack_require__.n(external_electron_settings_namespaceObject),AutoStartService_decorate=function(decorators,target,key,desc){var d,c=arguments.length,r=c<3?target:null===desc?desc=Object.getOwnPropertyDescriptor(target,key):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(decorators,target,key,desc);else for(var i=decorators.length-1;i>=0;i--)(d=decorators[i])&&(r=(c<3?d(r):c>3?d(target,key,r):d(target,key))||r);return c>3&&r&&Object.defineProperty(target,key,r),r};let AutoStartService=class{initLoginItem(){external_electron_settings_default().hasSync("loginHasBeenInit")||this.setAutoStart(!0)}isOpenAtLogin(){const{openAtLogin}=external_electron_namespaceObject.remote.app.getLoginItemSettings();return openAtLogin||!1}setAutoStart(enableAutoStart){this._updateLoginItem({openAtLogin:enableAutoStart}),external_electron_settings_default().setSync("loginHasBeenInit",!0)}_updateLoginItem(update){external_electron_namespaceObject.remote.app.setLoginItemSettings(Object.assign({},external_electron_namespaceObject.remote.app.getLoginItemSettings(),update))}};AutoStartService=AutoStartService_decorate([(0,external_inversify_namespaceObject.injectable)()],AutoStartService);const services_AutoStartService=AutoStartService;var PLATFORM;!function(PLATFORM){PLATFORM.WINDOWS="windows",PLATFORM.DARWIN="darwin",PLATFORM.LINUX="linux",PLATFORM.UNKNOWN="unknown"}(PLATFORM||(PLATFORM={}));Symbol("Application"),Symbol("ApplicationMenu");const SERVICE_AUTOSTART=Symbol("AutoStart"),SERVICE_IPC=(Symbol("Cookie"),Symbol("DeepLink"),Symbol("History"),Symbol("Ipc")),di=(Symbol("Media"),Symbol("Menu"),Symbol("Network"),Symbol("PowerSave"),Symbol("Sentry"),Symbol("Thumbar"),Symbol("Tray"),Symbol("Updater"),Symbol("User"),Symbol("WindowState"),new external_inversify_namespaceObject.Container);di.bind(SERVICE_IPC).to(services_IpcService).inSingletonScope(),di.bind(SERVICE_AUTOSTART).to(services_AutoStartService).inSingletonScope();const renderer_di=di,external_semver_namespaceObject=require("semver");var external_semver_default=__webpack_require__.n(external_semver_namespaceObject);function isPlatform(platform){switch(platform){case PLATFORM.WINDOWS:return"win32"===process.platform;case PLATFORM.DARWIN:return"darwin"===process.platform;case PLATFORM.LINUX:return"linux"===process.platform;default:return!1}}const defaultRequiredVersions={[PLATFORM.WINDOWS]:"*",[PLATFORM.DARWIN]:"*",[PLATFORM.LINUX]:"*"};function isPlatformVersion(requiredVersions){requiredVersions=Object.assign({},defaultRequiredVersions,requiredVersions);const platformCurrent=isPlatform(PLATFORM.WINDOWS)?PLATFORM.WINDOWS:isPlatform(PLATFORM.DARWIN)?PLATFORM.DARWIN:isPlatform(PLATFORM.LINUX)?PLATFORM.LINUX:PLATFORM.UNKNOWN,platformVersion=external_semver_default().valid(external_semver_default().coerce(isPlatform(PLATFORM.DARWIN)?__webpack_require__(944)():__webpack_require__(857).release()));return platformCurrent!==PLATFORM.UNKNOWN&&external_semver_default().satisfies(platformVersion,requiredVersions[platformCurrent])}const ipc=renderer_di.get(SERVICE_IPC);document.addEventListener("DOMContentLoaded",()=>{let mainWindow=external_electron_namespaceObject.remote.getCurrentWindow();const minButton=document.getElementById("btn-min"),maxButton=document.getElementById("btn-max"),restoreButton=document.getElementById("btn-restore"),closeButton=document.getElementById("btn-close"),menuButton=document.getElementById("btn-menu"),toggleMaxRestoreButtons=()=>{mainWindow=external_electron_namespaceObject.remote.getCurrentWindow(),mainWindow.isMaximized()?(maxButton.style.display="none",restoreButton.style.display="flex"):(restoreButton.style.display="none",maxButton.style.display="flex")};minButton.addEventListener("click",()=>{mainWindow=external_electron_namespaceObject.remote.getCurrentWindow(),mainWindow.minimize()}),maxButton.addEventListener("click",()=>{mainWindow=external_electron_namespaceObject.remote.getCurrentWindow(),mainWindow.maximize(),toggleMaxRestoreButtons()}),restoreButton.addEventListener("click",()=>{mainWindow=external_electron_namespaceObject.remote.getCurrentWindow(),mainWindow.unmaximize(),toggleMaxRestoreButtons()}),toggleMaxRestoreButtons(),mainWindow.on("maximize",toggleMaxRestoreButtons),mainWindow.on("unmaximize",toggleMaxRestoreButtons),closeButton.addEventListener("click",()=>{mainWindow=external_electron_namespaceObject.remote.getCurrentWindow();isPlatformVersion({[PLATFORM.WINDOWS]:"<6.2 || >=10.0.0"})?mainWindow.hide():mainWindow.close()}),menuButton.addEventListener("click",()=>{const rectMenuControl=document.getElementById("menu-controls").getBoundingClientRect(),actualX=window.electron.isRtl()?rectMenuControl.right-2:rectMenuControl.left+1,popupOptions={x:Math.round(actualX),y:Math.round(rectMenuControl.bottom)};ipc.send("channel-menu-show",popupOptions)}),document.addEventListener("keydown",e=>{!e.ctrlKey||"+"!=e.key&&"-"!=e.key||e.preventDefault()}),document.addEventListener("wheel",e=>{e.ctrlKey&&e.preventDefault()},{passive:!1})});(async function load_plugins(){const plugin_loader=require("./plugin_loader");const function_in_scope=plugin_loader.execute_plugins(window.plugins.titlebar,"titlebar");if(function_in_scope!==""){eval(function_in_scope)}})()})(),module.exports=__webpack_exports__})();