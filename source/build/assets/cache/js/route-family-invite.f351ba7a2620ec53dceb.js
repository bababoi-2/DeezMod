"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[515],{LSdk:(e,t,n)=>{n.d(t,{T:()=>d});var r=n("nKUr"),a=(n("q1tI"),n("NSet")),i=n("IXMZ");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){l(e,t,n[t])}))}return e}function s(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const d=e=>{var{height:t="30px",iconOnly:n,color:a="text.neutral.primary.default"}=e,i=s(e,["height","iconOnly","color"]);return(0,r.jsx)(m,o({height:t,color:a,iconOnly:n},i))},m=e=>{var{color:t,compensate:n,iconOnly:l}=e,d=s(e,["color","compensate","iconOnly"]);return(0,r.jsxs)(a.az,function(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n.push.apply(n,r)}return n}(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})),e}(o({as:"svg",viewBox:l?"0 0 279 279":"0 0 992 279",fill:"none",xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Deezer logo"},d),{sx:o({width:d.width,height:d.height},d.sx),children:[!l&&(0,r.jsx)(i.Bv.path,{clipRule:"evenodd",d:"M353.119 68.19h54.962c34.031 0 58.095 22.64 58.095 54.82s-24.064 54.82-58.095 54.82h-54.962V68.19Zm42.717 80.023h9.967c10.679 0 16.375-7.119 16.375-25.203 0-18.083-5.696-25.203-16.375-25.203h-9.967v50.406Zm167.163 29.617h-90.275V68.19h90.275v29.617h-47.701v12.673h44.853v24.206h-44.853v13.527h47.701v29.617Zm100.526 0h-90.274V68.19h90.274v29.617h-47.7v12.673h44.853v24.206h-44.853v13.527h47.7v29.617Zm327.639 0c-6.152-16.765-14.756-34.653-26.33-54.704 13.536-3.97 21.631-12.504 21.631-25.603 0-19.935-18.368-29.333-47.416-29.333h-59.803v109.64h42.716v-45.352c9.491 15.984 16.483 31.068 21.074 45.352h48.128Zm-69.202-60.658V97.807h14.809c6.265 0 9.825 3.418 9.825 9.683s-3.56 9.682-9.825 9.682h-14.809Zm-52.968 60.658h-90.275V68.19h90.275v29.617h-47.7v12.673h44.853v24.206h-44.853v13.527h47.7v29.617ZM673.779 97.807h44.076c-18.287 14.963-33.337 31.91-44.931 50.406v29.617h96.967v-29.617h-48.466c11.106-16.158 26.625-32.248 48.466-50.406V68.19h-96.112v29.617Z",fillRule:"evenodd",fill:t}),(0,r.jsx)(i.Bv.path,{clipRule:"evenodd",d:"M232.97 42.874c2.569-14.89 6.339-24.254 10.515-24.271h.008c7.787.026 14.099 32.498 14.099 72.59 0 40.091-6.321 72.589-14.116 72.589-3.196 0-6.145-5.518-8.519-14.765-3.752 33.85-11.538 57.119-20.552 57.119-6.974 0-13.233-13.978-17.435-36.022-2.869 41.924-10.09 71.669-18.53 71.669-5.297 0-10.126-11.787-13.701-30.979-4.299 39.617-14.231 67.376-25.813 67.376-11.582 0-21.532-27.75-25.813-67.376-3.549 19.192-8.378 30.979-13.701 30.979-8.44 0-15.643-29.745-18.53-71.669-4.202 22.044-10.444 36.022-17.436 36.022-9.004 0-16.8-23.261-20.551-57.119-2.357 9.274-5.323 14.765-8.519 14.765-7.795 0-14.116-32.498-14.116-72.59 0-40.09 6.32-72.59 14.116-72.59 4.184 0 7.928 9.39 10.523 24.272C49.057 17.198 55.81.51 63.446.51c9.067 0 16.924 23.6 20.64 57.87 3.638-24.942 9.155-40.843 15.335-40.843 8.66 0 16.022 31.274 18.75 74.897 5.129-22.366 12.554-36.397 20.773-36.397 8.218 0 15.643 14.04 20.763 36.398 2.737-43.624 10.09-74.898 18.751-74.898 6.17 0 11.679 15.9 15.334 40.843C197.5 24.11 205.357.51 214.423.51c7.61 0 14.389 16.697 18.547 42.363ZM.09 84.053c0-17.922 3.583-32.454 8.006-32.454s8.007 14.532 8.007 32.454c0 17.921-3.584 32.454-8.007 32.454S.09 101.974.09 84.053Zm261.653 0c0-17.922 3.584-32.454 8.007-32.454 4.422 0 8.007 14.532 8.007 32.454 0 17.921-3.585 32.454-8.007 32.454-4.423 0-8.007-14.533-8.007-32.454Z",fill:"background.accent.primary.default",fillRule:"evenodd"})]}))}},wgVz:(e,t,n)=>{n.d(t,{t:()=>a});var r=n("nKUr");const a=(0,n("AGAM").w)({displayName:"BanIcon",viewBox:"0 0 24 24",pathSmall:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M4 12c0-5.138 2.862-8 8-8 5.137 0 8 2.862 8 8 0 5.137-2.863 8-8 8-5.138 0-8-2.863-8-8Zm3.46 5.391c1.096.849 2.61 1.276 4.54 1.276 4.424 0 6.667-2.243 6.667-6.667 0-1.93-.427-3.444-1.276-4.54l-9.93 9.931Zm-.927-.952c-.798-1.087-1.2-2.568-1.2-4.439 0-4.424 2.243-6.667 6.667-6.667 1.871 0 3.352.402 4.439 1.2l-9.906 9.906Z",clipRule:"evenodd"})],pathMedium:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M1 12C1 4.936 4.936 1 12 1s11 3.936 11 11-3.936 11-11 11S1 19.064 1 12Zm5.023 7.392C7.488 20.462 9.483 21 12 21c5.972 0 9-3.028 9-9 0-2.518-.538-4.512-1.608-5.977L6.022 19.392Zm-1.415-1.415C3.538 16.512 3 14.517 3 12c0-5.972 3.028-9 9-9 2.518 0 4.512.538 5.977 1.608L4.608 17.978Z",clipRule:"evenodd"})]});a.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"BanIcon"}},kqs6:(e,t,n)=>{n.d(t,{x:()=>a});var r=n("nKUr");const a=(0,n("AGAM").w)({displayName:"CameraIcon",viewBox:"0 0 24 24",pathSmall:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M9 13.5c0-1.927 1.073-3 3-3s3 1.073 3 3-1.073 3-3 3-3-1.073-3-3Zm1.333 0c0 1.184.483 1.667 1.667 1.667 1.184 0 1.667-.483 1.667-1.667 0-1.184-.483-1.667-1.667-1.667-1.184 0-1.667.483-1.667 1.667Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M9 7.5H5.503c-.47 0-.871.26-.951.62-.3 1.43-.53 3.13-.55 5.06-.02 2.11.23 4.15.57 5.7.08.36.48.62.95.62h12.993c.47 0 .87-.26.95-.62.721-2.94.711-7.87-.02-10.76-.08-.36-.48-.62-.95-.62H15v-3H9v3Zm4.67-1.67h-3.34V7.5h3.34V5.83Zm4.576 3c.272 1.266.42 2.934.424 4.654.003 1.718-.139 3.397-.407 4.686H5.783a25.346 25.346 0 0 1-.452-4.977c.017-1.639.194-3.102.435-4.363h12.48Z",clipRule:"evenodd"})],pathMedium:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M8 14c0-2.569 1.431-4 4-4s4 1.431 4 4c0 2.568-1.431 4-4 4s-4-1.432-4-4Zm2 0c0 1.457.542 2 2 2s2-.543 2-2c0-1.458-.542-2-2-2s-2 .542-2 2Z",clipRule:"evenodd"}),(0,r.jsx)("path",{fillRule:"evenodd",d:"M1.002 13.573c-.028 2.814.316 5.534.784 7.6.11.48.66.827 1.308.827h17.864c.647 0 1.197-.347 1.307-.827.991-3.92.977-10.493-.027-14.346-.11-.48-.66-.827-1.308-.827H16V2H8v4H3.066c-.647 0-1.197.347-1.307.827a33.526 33.526 0 0 0-.757 6.746ZM20.459 8c.346 1.641.537 3.774.54 5.979.005 2.204-.176 4.35-.517 6.021h-16.9a32.614 32.614 0 0 1-.58-6.406c.022-2.092.247-3.967.558-5.594h16.9ZM10 4h4v2h-4V4Z",clipRule:"evenodd"})]});a.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"CameraIcon"}},"7HKI":(e,t,n)=>{n.d(t,{_:()=>a});var r=n("nKUr");const a=(0,n("AGAM").w)({displayName:"CheckCircleFilledIcon",viewBox:"0 0 24 24",pathSmall:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M4 12c0-5.138 2.862-8 8-8 5.137 0 8 2.862 8 8 0 5.137-2.863 8-8 8-5.138 0-8-2.863-8-8Zm7.109.996 2.905-4.303 1.104.746-3.732 5.53-3.248-2.723.856-1.023 2.115 1.773Z",clipRule:"evenodd"})],pathMedium:[(0,r.jsx)("path",{fillRule:"evenodd",d:"M1 12C1 4.936 4.936 1 12 1s11 3.936 11 11-3.936 11-11 11S1 19.064 1 12Zm10.456 1.45L15.813 7l1.658 1.12-5.599 8.288L7 12.326l1.284-1.533 3.172 2.658Z",clipRule:"evenodd"})]});a.defaultProps={fill:"currentColor",boxSize:"24px",display:"block","data-testid":"CheckCircleFilledIcon"}},hp5F:(e,t,n)=>{n.r(t),n.d(t,{FamilyInvite:()=>ge,default:()=>he});var r=n("q1tI"),a=n("TRpf"),i=n("X6oL"),l=n("nrKQ"),o=n("xobL"),c=n("FSqQ"),s=n("5pmF"),d=n("r2ys"),m=n("Wp0Y");const p=n.p+"images/pages/familyInvite/link-broken.3666bfdfa13fc1bb74b4.svg";var u,g=n("NSet"),h=n("koXx");const f=()=>r.createElement(r.Fragment,null,r.createElement(g.DZ,{variant:"heading.l"},(0,m.AP)("errormessage_title_oopslinknolongervalid_web")),u||(u=r.createElement(h._V,{src:p})),r.createElement(g.EY,{variant:"body.l.default"},(0,m.AP)("errormessage_text_neednewinvitelinkfromplanXadmin_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]}))),v=n.p+"images/pages/familyInvite/error.158d937a1527db94f030.svg";var _;const E=()=>r.createElement(r.Fragment,null,r.createElement(g.DZ,{variant:"heading.l"},(0,m.AP)("Erreur")),_||(_=r.createElement(h._V,{src:v})),r.createElement(g.EY,{variant:"body.l.default"},(0,m.AP)("Une erreur est survenue, merci de rÃ©essayer plus tard."))),b=n.p+"images/pages/familyInvite/localisation.ae98ca1ffa3003636be4.svg";var y;const A=()=>r.createElement(r.Fragment,null,r.createElement(g.DZ,{variant:"heading.l"},(0,m.AP)("deezerfamilyerrormessage_title_adminfromdifferentcountry_web")),y||(y=r.createElement(h._V,{src:b})),r.createElement(g.EY,{variant:"body.l.default"},(0,m.AP)("deezerfamilyerrormessage_text_needtobeinsamecountryasplanXadmin_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]}))),w=n.p+"images/pages/familyInvite/member-limit.108cea56d2e7abab8479.svg";var k;const C=()=>r.createElement(r.Fragment,null,r.createElement(g.DZ,{variant:"heading.l"},(0,m.AP)("errormessage_title_planXmaxmemberlimitreached_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]})),k||(k=r.createElement(h._V,{src:w})),r.createElement(g.EY,{variant:"body.l.default"},(0,m.AP)("errormessage_text_checkavailabilitywithplanXadmin_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]})));var x;const P=()=>r.createElement(r.Fragment,null,r.createElement(g.DZ,{variant:"heading.l"},(0,m.AP)("errormessage_text_alreadyplanXadmin_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]})),x||(x=r.createElement(h._V,{src:v})),r.createElement(g.EY,{variant:"body.l.default"},(0,m.AP)("errormessage_text_linkonlyforusersnotonplanXyet_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]}))),S=()=>r.createElement(r.Fragment,null,r.createElement(g.DZ,{variant:"heading.l"},(0,m.AP)("errormessage_title_needtobeplanXusertojoinplanY_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfree_web"),(0,m.AP)("deezerplans_title_deezerfamily_web")]})),r.createElement(g.EY,{variant:"body.l.default",textAlign:"left"},(0,m.AP)("errormessage_text_followinstructtoswitchtoplanX_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfree_web")]})),r.createElement(g.Tk,{w:"100%",alignItems:"flex-start",textAlign:"left"},r.createElement(g.EY,{variant:"body.m.default"},(0,m.AP)("generic_subtitle_fromthemobileapp_web")),r.createElement(g.B8,null,r.createElement(g.ck,null,(0,m.AP)("genericprocedure_text_gotofavoritessettings_web")),r.createElement(g.ck,null,(0,m.AP)("genericprocedure_text_tapmanagemyaccountmyaccount_web")),r.createElement(g.ck,null,(0,m.AP)("genericprocedure_text_selectmanagemysubscription_web"))),r.createElement(g.EY,{variant:"body.m.default"},(0,m.AP)("generic_subtitle_ontheweb_web")),r.createElement(g.B8,null,r.createElement(g.ck,null,(0,m.AP)("genericprocedure_text_clickyouruserprofileicon_web")),r.createElement(g.ck,null,(0,m.AP)("genericprocedure_text_gotoaccountsettings_web")),r.createElement(g.ck,null,(0,m.AP)("genericprocedure_text_selectmanagemysubscription_web")))));var I=n("HmE0"),O=n("7HKI"),M=n("pxP/"),D=n("aHAS"),z=n("0CJU"),L=n("5G9X");const R="pay_login",Z="/account/invite";var j,N,T;let U=(0,i.Ay)({virtualpageurl:`${Z}/success`},{dispatchOnMount:!0})(j=class extends r.Component{constructor(e){super(e),this.onOpenApp=()=>{this.props.tracking&&this.props.tracking.trackEvent({event:"click",eventlabel:"start-streaming",eventaction:"receiver",eventcategory:"family-account-management"}),M.A.href=`https://deezer.page.link/?link=${encodeURIComponent("https://www.deezer.com/relog")}&ofl=${encodeURIComponent(`https://${M.A.host}/`)}&isi=292738169&imv=7.11.0&ibi=com.deezer.Deezer&apn=deezer.android.app&amv=6190600&pt=link`},this.state={isLoading:!0}}componentDidMount(){this.props.fetchUserData((()=>this.setState({isLoading:!1})))}render(){if(this.state.isLoading)return N||(N=r.createElement(c.A,null));const{name:e,parentName:t,picture:n}=this.props;return r.createElement(r.Fragment,null,r.createElement(g.DZ,{variant:"heading.l"},(0,m.AP)("deezerfamilyinvitation_title_welcometothefamily_web")),r.createElement(g.az,{position:"relative"},r.createElement(z.A,{data:{USER_PICTURE:n},height:100,width:100,rounded:!0,type:L.Ay.User,alt:e}),T||(T=r.createElement(O._,{color:"icon.feedback.success.default",position:"absolute",boxSize:"size.m",bottom:"0",right:"0",size:"medium"}))),r.createElement(g.Tk,{spacing:"spacing.m"},r.createElement(g.EY,{variant:"body.m.default"},(0,m.AP)("deezerfamilyinvitation_text_yourenowpartofuserXfamily_web",{sprintf:[t]})),r.createElement(g.EY,{variant:"body.m.default"},(0,m.AP)("deezerfamilyinvitation_text_makesureappisuptodate_web"))),r.createElement(I.$n,{onClick:this.onOpenApp},(0,m.AP)("generic_action_startstreamingnow_web")))}})||j;const F=(0,a.Ng)((({user:e})=>({connected:(0,o.UJ)(e),name:(0,o.Mn)(e),picture:(0,o.jg)(e),parentName:(0,o.E1)(e)})),{fetchUserData:D.Sk})(U);n("/eM8");var Y=n("3TL7");let $=function(e){return e.AcceptInvite="accept-invite",e.DenialCountry="error-country",e.DenialQuota="error-limit",e.DenialOffer="error-plan",e.DenialMaster="error-master",e.Error="error",e.Expired="error-link",e.Confirm="confirm",e.Welcome="welcome",e}({});var B,V;let H=function(e){return e.FAMILY_ALREADY_FULL="FAMILY_ALREADY_FULL",e.INCOMPATIBLE_SUBSCRIPTION="INCOMPATIBLE_SUBSCRIPTION",e.INCOMPATIBLE_COUNTRY="INCOMPATIBLE_COUNTRY",e.MASTER_CANNOT_LINK_ITSELF="MASTER_CANNOT_LINK_ITSELF",e}({}),X=(0,i.Ay)({virtualpageurl:`${Z}/confirm-profile`},{dispatchOnMount:!0})(B=class extends r.Component{constructor(...e){super(...e),this.onLinkAccount=()=>{const{onChangeStep:e,token:t}=this.props;this.props.tracking&&this.props.tracking.trackEvent({event:"click",eventlabel:"confirm-account",eventaction:"receiver",eventcategory:"family-account-management"}),l.A.call({method:"family.linkUserToFamily",data:{token:t},success:t=>{e(t?$.Welcome:$.Error)},error:t=>t.message===H.FAMILY_ALREADY_FULL?e($.DenialQuota):t.message===H.INCOMPATIBLE_SUBSCRIPTION?e($.DenialOffer):t.message===H.INCOMPATIBLE_COUNTRY?e($.DenialCountry):t.message===H.MASTER_CANNOT_LINK_ITSELF?e($.DenialMaster):e($.Error)})},this.onChangeAccount=async()=>{this.props.tracking&&this.props.tracking.trackEvent({event:"click",eventlabel:"change-account",eventaction:"receiver",eventcategory:"family-account-management"}),Y.default.logout(`${R}?redirect_type=refresh&redirect_link=${Z}/${this.props.token}/${$.Confirm}`)}}componentDidMount(){const{connected:e,token:t}=this.props;e||(M.A.href=`/${R}?redirect_type=refresh&redirect_link=${Z}/${t}/${$.Confirm}`)}render(){const{connected:e,name:t,picture:n}=this.props;return e?r.createElement(r.Fragment,null,r.createElement(g.DZ,{variant:"heading.l"},(0,m.AP)("accountconfirmation_title_isthisyouraccount_web")),r.createElement(z.A,{data:{USER_PICTURE:n},height:156,width:156,rounded:!0,type:L.Ay.User,alt:t}),r.createElement(g.EY,{variant:"body.m.default"},t),r.createElement(g.Tk,{spacing:"spacing.m"},r.createElement(I.$n,{onClick:this.onLinkAccount,"data-testid":"link-account-btn"},(0,m.AP)("accountconfirmation_action_yesitsmyaccount_web")),r.createElement(I.$n,{onClick:this.onChangeAccount,variant:"ghost","data-testid":"change-account-btn"},(0,m.AP)("accountconfirmation_action_changeaccount_web")))):V||(V=r.createElement(c.A,null))}})||B;const K=(0,a.Ng)((({user:e})=>({connected:(0,o.UJ)(e),name:(0,o.Mn)(e),picture:(0,o.jg)(e)})))(X),q=n.p+"images/pages/familyInvite/invitation.4cd71b0929930fd06a9b.svg";var G;class J extends r.Component{constructor(...e){super(...e),this.checkSlotAvailable=()=>{const{connected:e,token:t,onChangeStep:n}=this.props;l.A.call({method:"family.isSlotAvailable",data:{token:t},success:r=>{r?e?n($.Confirm):M.A.href=`/${R}?redirect_type=refresh&redirect_link=${Z}/${t}/${$.Confirm}`:n($.DenialQuota)},error:()=>{n($.Error)}})}}render(){return r.createElement(r.Fragment,null,r.createElement(g.DZ,{variant:"heading.l"},(0,m.AP)("deezerfamilyinvitation_title_youvebeeninvitedtojoinplanX_web",{sprintf:[(0,m.AP)("deezerplans_title_deezerfamily_web")]})),G||(G=r.createElement(h._V,{src:q})),r.createElement(g.EY,{variant:"body.l.default"},(0,m.AP)("deezerfamilyinvitation_text_keepaccountifalreadyondeezer_web")),r.createElement(I.$n,{onClick:this.checkSlotAvailable},(0,m.AP)("deezerfamilyinvitation_action_acceptinvite_web")))}}const Q=(0,a.Ng)((({user:e})=>({connected:(0,o.UJ)(e)})))(J);var W,ee,te,ne,re,ae,ie,le,oe,ce,se,de,me,pe=n("E6Gc"),ue=n("LSdk");let ge=(0,i.Ay)((({language:e,uilogged:t})=>({language:e,uilogged:t,pagecategory:"family-account"})))(W=class extends r.Component{constructor(e){super(e),this.onChangeStep=this.onChangeStep.bind(this);const t=this.props.match.params.initialStep===$.Confirm?$.Confirm:$.AcceptInvite;this.state={isLoading:!0,step:t},e.tracking&&e.tracking.trackEvent({virtualpageurl:t===$.Confirm?`${Z}/confirm-profile`:Z})}componentDidMount(){const{token:e}=this.props.match.params,{step:t}=this.state;l.A.call({method:"family.isValidInvitation",data:{token:e},success:e=>{this.setState({step:e?t:$.Error,isLoading:!1})},error:()=>{this.setState({step:$.Expired,isLoading:!1})}})}renderStep(){const{step:e}=this.state;switch(this.props.tracking&&this.isError(e)&&this.props.tracking.trackEvent({event:"click",eventlabel:e,eventaction:"error",eventcategory:"family-account-management"}),e){case $.Expired:return ee||(ee=r.createElement(f,null));case $.Error:return te||(te=r.createElement(E,null));case $.DenialCountry:return ne||(ne=r.createElement(A,null));case $.DenialQuota:return re||(re=r.createElement(C,null));case $.DenialMaster:return ae||(ae=r.createElement(P,null));case $.DenialOffer:return ie||(ie=r.createElement(S,null));case $.Welcome:return le||(le=r.createElement(F,null));case $.Confirm:return r.createElement(K,{token:this.props.match.params.token,onChangeStep:this.onChangeStep});case $.AcceptInvite:return r.createElement(Q,{token:this.props.match.params.token,onChangeStep:this.onChangeStep});default:return null}}onChangeStep(e){this.setState({step:e})}isError(e){return e===$.DenialCountry||e===$.DenialOffer||e===$.DenialQuota||e===$.DenialMaster||e===$.Error||e===$.Expired}render(){return r.createElement(g.so,{minH:"100vh",h:"100%",flexDirection:"column"},oe||(oe=r.createElement(pe.Q,null)),ce||(ce=r.createElement(ue.T,{mt:"spacing.xl"})),r.createElement(g.so,{h:"100%",mt:"spacing.xl",my:"auto",mx:"auto"},r.createElement(g.Tk,{maxW:"container.md",spacing:"spacing.l",textAlign:"center",px:"spacing.l"},this.state.isLoading?se||(se=r.createElement(c.A,null)):this.renderStep())),de||(de=r.createElement(s.A,null)),me||(me=r.createElement(d.A,null)))}})||W;const he=(0,a.Ng)((({user:e})=>({uilogged:(0,o.UJ)(e),language:(0,o.Z0)(e)})))(ge)},r2ys:(e,t,n)=>{n.d(t,{A:()=>l});var r=n("q1tI"),a=n("uHHB"),i=n("vGT4");const l=()=>{const{state:e}=(0,i.b)(),t=(e=>null==e?void 0:e.settings)(e);return(0,r.useEffect)((()=>{const{consentString:e,statistics:n=0,targetedAdvertising:r=0}=t||{};window.sas&&window.sas.cmd.push((()=>{window.sas.setGdprConsentData(e)})),(0,a.A)("consentStatistics",n.toString(),100),(0,a.A)("consentMarketing",r.toString(),100)}),[t]),null}},"5pmF":(e,t,n)=>{n.d(t,{A:()=>y});var r=n("q1tI"),a=n("TRpf"),i=n("xobL"),l=(n("/eM8"),n("Vd8Q"));const o=l.default.get("host_website_ssl"),c=l.default.get("host_cookie"),s=`https://${l.default.get("host_common_assets_ssl")}/js/gdpr-appliance.js`,d=l.default.get("bot_crawler"),m=new RegExp(d,"i");var g=n("zKOv"),h=n("vGT4"),f=n("39Zz"),v=n("uHHB"),_=n("wE9P"),E=n("ebSJ");const b=({locale:e,darkMode:t,userId:n})=>{const{dispatch:a}=(0,h.b)();return(0,r.useEffect)((()=>{window.location.pathname.includes("register")&&(0,E.A)(f.J)&&((0,v.A)(f.J,"",0),(0,v.A)("euconsent-v2","",0)),window.onDzrGDPRReady=r=>{(async(e,t)=>{const{lang:n="en_US",darkMode:r=!1,onConsentUpdate:a,userID:i="0"}=t||{};window.consentScreenApi=await e({cookieDomain:c,darkMode:r,gatewayHost:o,isWebview:!1,lang:n,onConsentUpdate:a,userID:i})})(r,{lang:e,darkMode:t,userID:n,onConsentUpdate:e=>{var t;a((t=e,{type:g.X,value:t})),(0,_.u)().setConsent(e)}})},((e="dzr-gdpr-script")=>{if(m.test(navigator.userAgent))return;if(document.getElementById(e))return;const t=document.createElement("script");t.async=!0,t.crossOrigin="anonymous",t.defer=!0,t.id=e,t.src=s,document.head.appendChild(t)})("gdpr-web-script")}),[]),(0,r.useEffect)((()=>{var r;null===(r=window.consentScreenApi)||void 0===r||r.update({darkMode:t,userID:n,lang:e})}),[t,e,n]),null},y=()=>{const e=(0,a.d4)((e=>(0,i.JK)(e.user))),t=(0,a.d4)((e=>e.user.id?(0,i.NF)(e.user):"dark"===document.body.dataset.theme)),n=(0,a.d4)((e=>(0,i.F6)(e.user).toString()));return r.createElement(b,{darkMode:t,userId:n,locale:e})}},FSqQ:(e,t,n)=>{n.d(t,{A:()=>l});var r,a=n("q1tI"),i=n("juqV");class l extends a.Component{render(){const{className:e}=this.props;let t=(0,i.A)("loader-container",e);return a.createElement("div",{className:t,"data-testid":"loader"},r||(r=a.createElement("div",{className:"loader animate-spin"})))}}},E6Gc:(e,t,n)=>{n.d(t,{Q:()=>l,l:()=>i});var r=n("q1tI"),a=n("D+hi");const i=e=>{const{setColorMode:t}=(0,a.G6)();(0,r.useEffect)((()=>{t(e)}),[t,e])},l=({children:e})=>(i("light"),r.createElement(r.Fragment,null,e))},juqV:(e,t,n)=>{function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n);return a}n.d(t,{A:()=>a});const a=function(){for(var e,t,n=0,a="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=r(e))&&(a&&(a+=" "),a+=t);return a}}}]);