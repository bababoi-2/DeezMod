"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[6309],{"F+Al":(e,t,a)=>{a.r(t),a.d(t,{default:()=>Et}),a("/eM8");var n=a("q1tI"),l=a("TRpf"),r=a("WmA5"),s=a("iooo"),i=a("X6oL"),o=a("D+Zh"),d=a("H/eQ"),c=a("17x9"),u=a.n(c),m=a("Wp0Y"),p=a("5G9X"),h=a("sdUN"),A=(a("WpbS"),a("Vd8Q")),E=a("xobL"),y=a("fPrZ"),_=a("CTxd"),I=a("2NhJ"),S=a("oq/a"),g=a("zJSK"),f=a("WQvr"),T=a("WY4A"),v=a("lDkB"),P=a("uSSP"),b=a("B3z3"),R=a("IqfE"),x=a("Ozpl"),L=a("wRgy"),w=a("A2sV");const N=({id:e})=>{var t,a,l;const{data:r}=(0,w.XAQ)({variables:{playlistId:e}}),s=null==r||null===(t=r.playlist)||void 0===t||!t.isPrivate||null!=r&&r.playlist.isFromFavoriteTracks?null==r||null===(a=r.playlist)||void 0===a?void 0:a.title:"";return n.createElement(L.A,{alt:s,src:null==r||null===(l=r.playlist)||void 0===l||null===(l=l.picture)||void 0===l?void 0:l.large[0],type:p.Ay.Playlist,"data-testid":"playlist-cover"})};var D=a("hz5U"),C=a("Z9d1"),k=a("kPsn"),O=a("6dJ7"),U=a("4PKR"),B=a("tZCQ"),F=a("jiu+");const M=({children:e,isSponsored:t})=>B.A.isAllowed("revamp2023")&&t?n.createElement(F.QQ,null,e):e;var H=a("0JBE");class z extends n.Component{constructor(e){super(e),this._isSponsoredAvailable=()=>this.props.isSponsored,this._updateTime=this._updateTime.bind(this),this._updateInterval=null,this.state={latestUpdate:this._calculateTime(e.data.DATE_MOD)},this._defaultCreatorImgSize=24}componentDidMount(){this._updateInterval=setInterval(this._updateTime,3e4),d.A.subscribe(d.A.ads.hasSponsoredPlaylist,((e,t)=>this.setState({sponsoredPlaylist:t.sponsoredPlaylist}))),d.A.subscribe(d.A.ads.refreshDisplay,(()=>{(0,y.wH)(A.default.get(["smartAds","formatId"]).sponsoredPlaylist)&&this.setState({sponsoredPlaylist:{}})}))}componentDidUpdate(e){e.data.DATE_MOD!==this.props.data.DATE_MOD&&this._updateTime()}componentWillUnmount(){clearInterval(this._updateInterval),d.A.unsubscribe(d.A.ads.hasSponsoredPlaylist),d.A.unsubscribe(d.A.ads.refreshDisplay)}render(){const e=this._isSponsoredAvailable()?"white":void 0,{id:t}=this.props;return n.createElement(H.OJ,{value:{item:p.Ay.Playlist,itemId:String(t)}},n.createElement(I.Ay,null,n.createElement(N,{id:String(t)}),n.createElement(S.A,null,n.createElement(M,{isSponsored:this._isSponsoredAvailable()},n.createElement(g.A,{color:e},this._renderTitle()),n.createElement(f.A,{color:e},this._renderCreatorThumbnail(),this._renderCreatorName()),n.createElement(T.A,{color:e},this._renderNbTrack(),this._renderDuration(),this._renderFanCount()),n.createElement(T.A,{color:e},this._renderIsPrivate(),this._renderIsCollaborative(),this._renderLatestUpdate()),this._renderDescription()))))}_renderTitle(){const{TYPE:e,TITLE:t}=this.props.data;return Number(e)===O.S7?(0,m.AP)("Coups de coeur"):t}_renderCreatorThumbnail(){const{PARENT_USER_ID:e,PARENT_USER_PICTURE:t,PARENT_USERNAME:a,PLAYLIST_LINKED_ARTIST:l}=this.props.data;if(void 0!==l)return l.map((e=>{const{urls:t}=(0,k.jg)(p.Ay.Artist,null,{__TYPE__:p.Ay.Artist,...e});return n.createElement(v.A,{key:e.ART_ID},n.createElement(P.A,{text:e.ART_NAME,to:`/artist/${e.ART_ID}`},n.createElement(_.Ay,{alt:e.ART_NAME,type:p.Ay.Artist,urls:t,height:this._defaultCreatorImgSize,width:this._defaultCreatorImgSize,rounded:!0})))}));const{urls:r}=(0,k.jg)(p.Ay.User,null,{__TYPE__:p.Ay.User,USER_PICTURE:t});return n.createElement(v.A,null,n.createElement(P.A,{text:a,to:`/profile/${e}`},n.createElement(_.Ay,{alt:a,type:p.Ay.User,urls:r,height:this._defaultCreatorImgSize,width:this._defaultCreatorImgSize,rounded:!0})))}_renderCreatorName(){const{PARENT_USER_ID:e,PARENT_USERNAME:t,HAS_ARTIST_LINKED:a,PLAYLIST_LINKED_ARTIST:l}=this.props.data,r=this._isSponsoredAvailable()?"white":void 0;return a&&void 0!==l?n.createElement("div",null,l.map((e=>n.createElement(b.A,{color:r,key:e.ART_ID,to:`/artist/${e.ART_ID}`},e.ART_NAME))).reduce(((e,t)=>[e,", ",t]))):n.createElement(b.A,{color:r,to:`/profile/${e}`},t)}_renderDescription(){const{DESCRIPTION:e,IS_CHART:t}=this.props.data,a=this._isSponsoredAvailable()?"white":void 0;return e?n.createElement(R.A,{color:a},e):t?n.createElement(R.A,{color:a},(0,m.AP)("masthead_text_mostlistenedtosongseveryday_web")):null}_renderNbTrack(){const{NB_SONG:e,FORMATTED_NB_SONG:t}=this.props.data,a=(0,m.WI)("%s titre","%s titres",{sprintf:[t],count:e});return n.createElement(x.A,null,a)}_renderDuration(){const{DURATION:e,FORMATTED_DURATION:t}=this.props.data;return e?n.createElement(x.A,null,t):null}_renderIsPrivate(){const{IS_PRIVATE:e}=this.props.data;return e?n.createElement(x.A,null,(0,m.AP)("Privée")):null}_renderIsCollaborative(){const{IS_COLLABORATIVE:e}=this.props.data;return e?n.createElement(x.A,null,(0,m.AP)("Collaborative")):null}_renderFanCount(){const{NB_FAN:e,FORMATTED_NB_FAN:t}=this.props.data;return e?n.createElement(x.A,null,(0,m.WI)("%s fan","%s fans",{count:e,sprintf:[t]})):null}_renderLatestUpdate(){const{latestUpdate:e}=this.state;return n.createElement(x.A,null,(0,m.AP)("mastheadplaylistupdate_text_updated_web")," ",e)}_calculateTime(e){const{serverTimestamp:t,clientTimestampDelta:a}=this.props;return function(e,t=!0){return(isNaN(e)||e<0)&&(e=0),e<60?t?(0,m.AP)("Il y a quelques instants"):(0,m.AP)("mastheadplaylistupdate_text_afewminutesago_web"):e<3600?(e=Math.round(e/60),t?(0,m.WI)("Il y a %s minute","Il y a %s minutes",{sprintf:[e],count:e}):(0,m.WI)("mastheadplaylistupdate_text_Xminutesago_web","mastheadplaylistupdate_text_Xminutesago_web",{sprintf:[e],count:e})):e<86400?(e=Math.round(e/3600),t?(0,m.WI)("Il y a %s heure","Il y a %s heures",{sprintf:[e],count:e}):(0,m.WI)("mastheadplaylistupdate_text_Xhoursago_web","mastheadplaylistupdate_text_Xhoursago_web",{sprintf:[e],count:e})):e>86400&&e<172800?t?(0,m.AP)("Hier"):(0,m.AP)("mastheadplaylistupdate_text_yesterday_web"):e<518400?(e=Math.round(e/86400),t?(0,m.WI)("Il y a %s jour","Il y a %s jours",{sprintf:[e],count:e}):(0,m.WI)("mastheadplaylistupdate_text_Xdaysago_web","mastheadplaylistupdate_text_Xdaysago_web",{sprintf:[e],count:e})):e<2592e3?(e=Math.round(e/604800),t?(0,m.WI)("Il y a %s semaine","Il y a %s semaines",{sprintf:[e],count:e}):(0,m.WI)("mastheadplaylistupdate_text_Xweeksago_web","mastheadplaylistupdate_text_Xweeksago_web",{sprintf:[e],count:e})):(e=Math.round(e/2592e3))>12?t?(0,m.AP)("Il y a plus d'un an"):(0,m.AP)("mastheadplaylistupdate_text_morethanayearago_web"):t?(0,m.WI)("Il y a %s mois","Il y a %s mois",{sprintf:[e],count:e}):(0,m.WI)("mastheadplaylistupdate_text_Xmonthsago_web","mastheadplaylistupdate_text_Xmonthsago_web",{sprintf:[e],count:e})}((0,E.mI)({SERVER_TIMESTAMP:t,clientTimestampDelta:a})-(0,C.A)(e),!1)}_updateTime(){this.setState({latestUpdate:this._calculateTime(this.props.data.DATE_MOD)})}_getImgSrc(){const{data:e}=this.props,{IS_PRIVATE:t,IS_PERSONAL:a,PLAYLIST_PICTURE:n,PICTURE_TYPE:l,TYPE:r}=e,s=t&&!a?"":n;return Number(r)===O.S7?(0,k.jg)(p.Ay.Playlist,null,{...e,md5:D.A.PLACEHOLDER_LOVED_TRACKS_MD5,PICTURE_TYPE:"misc"}):(0,k.jg)(p.Ay.Playlist,null,{...e,md5:s,PICTURE_TYPE:l})}}const $=(0,l.Ng)((({user:e})=>({serverTimestamp:e.SERVER_TIMESTAMP,clientTimestampDelta:e.clientTimestampDelta})))((0,U.u4)(z));var q=a("M3gt"),Y=a("8m9I"),W=a("CdHq"),j=a("iiSH"),G=a("AfN5"),V=a("STEc");const X=a("DjLa").WR.PLAYLIST,Z={TITLE:{SIZE:V.uq.Full},ARTIST:{SIZE:V.uq.PercentXs},PARENT:{BREAKPOINT:V.x1.md,SIZE:V.uq.PercentXs},DURATION:{SIZE:V.uq.sm},SELECT:{ALIGN:V.uP.Right,SIZE:V.uq.sm}};var K,Q,J,ee=a("xCFc"),te=a("kSle"),ae=a("xLtY"),ne=a("BP9I"),le=a("1Uwb"),re=a("XLml"),se=a("fSLK"),ie=a("lXQd"),oe=a("o+h5"),de=a("pQlO"),ce=a("r4LN"),ue=a("wkd/"),me=a("LGn+"),pe=a("+UU7"),he=a("tgyz"),Ae=a("CxZw"),Ee=a("SehT");const ye=(0,n.memo)((0,H.S2)((({data:e,index:t,style:a})=>{const{context:l,container:r,loadingStatus:s,shouldExplicitBeHidden:i}=(0,ee.$A)(),{playerStatus:o,play:d,isItemLoadedInPlayer:c}=(0,he.A)(l,r,s.isFullyFetched),{onRemoveTrack:u,onReplaceTrack:h}=(0,pe.A)(r.id),A=e.toDisplay[t],E=A.item.hasExplicitLyrics&&i,y=(0,n.useCallback)(((t,a)=>{d({playIndex:a,playItems:e.toPlay,isTrackActive:t})}),[e.toPlay,d]),_=(0,n.useCallback)((t=>{d({notify:!1,playIndex:t,playItems:e.toPlay,playLyrics:!0})}),[e.toPlay,d]);return n.createElement(le.A.Row,{style:a,uuid:A.uuid,id:A.item.id,index:A.index,isActive:c(A.item)&&o.isSameContext,isReadable:A.item.right===Ae.A.READABLE,isRestrictedByExplicit:E,type:A.item.type},n.createElement(me.A,{size:Z.TITLE.SIZE},n.createElement(me.A.Play,{ariaLabel:(0,m.AP)("generic_action_playsongXbyartistX_web",{sprintf:[A.item.title,(0,ie.A)(A,"item.artists[0].name","")]}),hasExplicitCover:A.item.parent.hasExplicitCover,onPlayItems:y,pictureUrl:A.item.cover(oe.r4).url}),n.createElement(me.A.Variation,{variation:A.item.variation}),K||(K=n.createElement(me.A.Download,null)),n.createElement(me.A.PlayableLabel,{hasExplicitLyrics:A.item.hasExplicitLyrics,label:`${A.item.number||0}. ${A.item.title}`,onPlayItems:y,tooltipText:(0,Ee.Y)(A.item,i)}),n.createElement(le.A.IconGroup,null,n.createElement(me.A.OpenReplaceItem,{item:A.item,onReplaceTrack:h,onRemoveTrack:u}),n.createElement(me.A.ShowLyrics,{item:A.item,lyricsId:A.item.lyricsId,onPlayLyrics:_}),Q||(Q=n.createElement(me.A.AddToFeedback,null)),n.createElement(me.A.OpenContextMenu,{item:A.item}))),n.createElement(le.A.CellBody,{size:Z.ARTIST.SIZE},n.createElement(ce.A,{links:A.item.artists.map((e=>({...e,type:p.Ay.Artist})))})),n.createElement(le.A.CellBody,{breakpoint:Z.PARENT.BREAKPOINT,size:Z.PARENT.SIZE},n.createElement(ce.A,{links:[{...A.item.parent,type:p.Ay.Album}]})),n.createElement(le.A.CellBody,{size:Z.DURATION.SIZE},n.createElement(de.A,{duration:A.item.duration})),n.createElement(le.A.CellBody,{align:Z.SELECT.ALIGN,size:Z.SELECT.SIZE},J||(J=n.createElement(ue.A,null))))}),(({index:e,data:t})=>({item:p.Ay.Track,itemIndex:e,itemId:t.toDisplay[e].item.id}))),se.t7);var _e,Ie,Se,ge,fe,Te=a("ZH8F"),ve=a("dalA"),Pe=a("3AbJ"),be=a("ftFY"),Re=a("7u2F");const xe=({context:e,options:t=[],isFullyFetched:a,items:l,playlistId:r,nextFetchDataIndex:s,onFetch:i,shouldExplicitBeHidden:o=!1,total:d})=>{const c={keyId:p.vn[G.Kk.PLAYLIST],id:r,type:G.Kk.PLAYLIST},u=(0,n.useRef)(null),{loadingStatus:h,fetchNext:A,fetchAll:E}=(0,Pe.A)(i,r,a,s,e),{manageItems:y,tableItems:_}=(0,be.A)(r,l,e,{fetchAll:E,sortStorageKey:X}),{playerStatus:I,play:S}=(0,he.A)(e,c,a),g=(0,Re.A)(_,e,E);(0,ve.A)(Te.g.PLAY,(()=>{S({playItems:_.toPlay})}),e);const f=(0,ee.Ay)({container:c,context:e,options:t,loadingStatus:h,manageItems:y,playerStatus:I,select:g,shouldExplicitBeHidden:o});return n.createElement(ee.ru,{value:f},n.createElement(W.s,{alignItems:"center",mt:"spacing.xl",mb:"spacing.2xl"},n.createElement(te.A,{playlistId:r,context:e}),_e||(_e=n.createElement(W.s,{justifyContent:"flex-end",ms:"auto"},n.createElement(ae.A,null)))),n.createElement(le.A,{tableRef:u,rowCount:d},n.createElement(le.A.Header,null,n.createElement(le.A.CellHead,{size:Z.TITLE.SIZE,sortPath:"item.title"},(0,m.AP)("datagrid_title_trackUPP_web")),n.createElement(le.A.CellHead,{size:Z.ARTIST.SIZE,sortPath:"item.artist.name"},(0,m.AP)("datagrid_title_artistUPP_web")),n.createElement(le.A.CellHead,{breakpoint:Z.PARENT.BREAKPOINT,size:Z.PARENT.SIZE,sortPath:"item.parent.name"},(0,m.AP)("datagrid_title_albumUPP_web")),n.createElement(le.A.CellHead,{ariaLabel:(0,m.AP)("sortingmenu_title_duration_web"),size:Z.DURATION.SIZE,sortPath:"item.duration"},Ie||(Ie=n.createElement(Y.m,null))),n.createElement(le.A.CellHead,{align:Z.SELECT.ALIGN,size:Z.SELECT.SIZE},Se||(Se=n.createElement(ne.A,null)))),n.createElement(le.A.Body,null,n.createElement(q.A,{isItemLoaded:e=>e<l.length-j.Hs,itemCount:_.toDisplay.length,loadMoreItems:A,threshold:j.Hs},(({onItemsRendered:e,ref:t})=>n.createElement(re.A,{onItemsRendered:e,tableRef:u,items:_,ref:t},ye))),ge||(ge=n.createElement(le.A.RowLoader,null)))),0===_.toDisplay.length&&(fe||(fe=n.createElement(le.A.EmptyContent,null))))};var Le=a("iphN"),we=a("1Pdy"),Ne=a("kSUS"),De=a("y7xR"),Ce=a("TDRX"),ke=a("Z9kq");const Oe=({onChange:e})=>n.createElement(W.s,{alignItems:"center",justifyContent:"space-between"},n.createElement(De.D,{variant:"heading.m"},(0,m.AP)("playlistpage_action_addtracks_web")),n.createElement(Ce.a,null,n.createElement(ke.D,{placeholder:(0,m.AP)("searchfielddescription_text_artiststracksalbums_web"),onChange:t=>e(t.target.value)})));var Ue,Be=a("KsB9"),Fe=a("lI2z"),Me=a("arV3"),He=a("OxTW");const ze=()=>n.createElement(W.s,{direction:"column",gap:"spacing.s",alignSelf:"stretch",flex:1,mt:"spacing.s",pt:"size.xl"},[...Array(7).keys()].map((e=>n.createElement(W.s,{key:e,alignItems:"center"},n.createElement(Me.E,{height:`${oe.r4.height}px`,width:`${oe.r4.width}px`,mx:"spacing.s"}),Ue||(Ue=n.createElement(He.rr,{width:"100%",noOfLines:1}))))));var $e;const qe=({loading:e,data:t,value:a,playlistId:l,shouldExplicitBeHidden:r})=>{var s,i;if(e)return $e||($e=n.createElement(ze,null));if(!t||null!=t&&null!==(s=t.search)&&void 0!==s&&s.results.tracks.edges&&0===(null==t||null===(i=t.search)||void 0===i?void 0:i.results.tracks.edges.filter((e=>e.node)).length))return n.createElement(Fe.A,{value:a});return null!=t&&t.search?n.createElement(W.s,{flexDirection:"column",alignSelf:"stretch",flex:1},n.createElement(Be.A,{shouldExplicitBeHidden:r,source:"search",playlistId:l,items:t.search.results.tracks.edges.map((e=>e.node)).filter((e=>Boolean(e)&&(null==e?void 0:e.album)&&(!r||!e.isExplicit)))})):null};var Ye,We=a("MTsA");const je=({playlistId:e,shouldExplicitBeHidden:t})=>{var a;const[l,r]=(0,n.useState)(0),{data:s,loading:i,refetch:o}=(0,w.dj)({variables:{playlistId:e},fetchPolicy:"network-only"});if(i)return Ye||(Ye=n.createElement(ze,null));if(null==s||null===(a=s.playlist)||void 0===a||null===(a=a.playlistAssistant)||void 0===a||!a.sources.length)return null;const d=((e,t)=>{const a=e=>Boolean(e)&&(null==e?void 0:e.album)&&(!t||!e.isExplicit);return e.filter(Boolean).map((e=>({...e,tracks:e.tracks.filter(a)}))).filter((e=>e.tracks.length))})(s.playlist.playlistAssistant.sources,t),c=d.map(((e,t)=>({id:e.id,label:e.title,action:()=>r(t)}))),u=d.find((e=>e.id===c[l].id));return n.createElement(W.s,{flexDirection:"column",alignSelf:"stretch",flex:1},n.createElement(We.A,{items:c,active:c[l].id,textSize:"medium"}),n.createElement(W.s,null,n.createElement(Be.A,{shouldExplicitBeHidden:t,source:c[l].id,playlistId:e,items:u.tracks,onPlaylistUpdate:o})))};var Ge=a("Fzox"),Ve=a("sAMA");const Xe=({playlistId:e})=>{const t=(0,Ge.G)((e=>(0,E.zI)(e.user)||(0,E.Uw)(e.user)===Ve.g)),[a,l]=(0,n.useState)(""),{data:r,loading:s}=(0,w.sfq)({variables:{value:a,first:50},skip:!a,fetchPolicy:"cache-and-network"});if(!e)return null;const i=(0,Ne.A)((e=>l(e)),300);return n.createElement(W.s,{flexDirection:"column",mt:"spacing.2xl",bg:"background.neutral.secondary.default",borderRadius:"l",padding:"spacing.xl"},n.createElement(Oe,{onChange:i}),r||a?n.createElement(qe,{data:r,loading:s,value:a,playlistId:e,shouldExplicitBeHidden:t}):n.createElement(je,{playlistId:e,shouldExplicitBeHidden:t}))};var Ze,Ke;const Qe=n.lazy((()=>a.e(3915).then(a.bind(a,"9us9"))));class Je extends n.Component{constructor(e,t){super(e,t),this._onTrackListLoaded=this._onTrackListLoaded.bind(this),this._renderPlaceholder=this._renderPlaceholder.bind(this),this._renderTrackList=this._renderTrackList.bind(this),this.state={renderBottomComponents:!1}}getChildContext(){const{id:e,lastSeen:t}=this.props;return{id:e,lastSeen:t}}render(){const{context:e,data:t,id:a}=this.props;return n.createElement(H.OJ,{value:{page:"playlist",entity:"playlist",entityId:String(a)}},n.createElement("div",{className:"naboo-catalog",id:"page_naboo_playlist",itemScope:!0,itemType:"http://schema.org/MusicPlaylist"},n.createElement("div",{className:"catalog-content"},!0===t.IS_SPONSORED&&(Ze||(Ze=n.createElement(Qe,null))),n.createElement("div",{className:"container"},n.createElement($,{id:a,data:t,context:e}),this._renderTrackList(),B.A.isAllowed("playlist_assistant_end_of_tracklist")&&this._renderPlaylistAssistant())),this._renderPlaceholder(),n.createElement(h.A,{type:p.Ay.Playlist,data:t})))}_renderPlaylistAssistant(){const{data:{IS_PERSONAL:e,IS_COLLABORATIVE:t},id:a}=this.props;return e||t?n.createElement(Xe,{playlistId:a}):null}_renderTrackList(){const{context:e,data:t,fetchData:a,id:l,lastSeen:r,shouldExplicitBeHidden:s,updateTracklistOrder:i}=this.props;if(t.IS_PRIVATE&&!t.IS_PERSONAL)return null;if(!t.SONGS)return null;const o=this._getTableOptions();return t.IS_CHART?n.createElement(xe,{context:e,options:o,items:t.SONGS,lastSeen:r,onFetch:a,onReorder:i,playlistId:l,total:t.NB_SONG,isFullyFetched:t.HAS_FULLY_LOADED_SONGS,nextFetchDataIndex:t.NEXT_FETCH_DATA_INDEX,shouldExplicitBeHidden:s}):n.createElement(Le.A,{context:e,options:o,items:t.SONGS,lastSeen:r,onFetch:a,onReorder:i,playlistId:l,total:t.NB_SONG,isFullyFetched:t.HAS_FULLY_LOADED_SONGS,nextFetchDataIndex:t.NEXT_FETCH_DATA_INDEX,shouldExplicitBeHidden:s})}_renderPlaceholder(){const{data:e}=this.props;return e.IS_PRIVATE&&!e.IS_PERSONAL?n.createElement("div",{className:"catalog-content"},n.createElement("div",{className:"container"},Ke||(Ke=n.createElement("div",{className:"placeholders-img private"})),n.createElement("div",{className:"placeholders-title"},(0,m.AP)("Cette playlist est privée")))):null}_onTrackListLoaded(){this.setState({renderBottomComponents:!0})}_getTableOptions(){const{IS_PERSONAL:e,IS_COLLABORATIVE:t}=this.props.data,a=[];return e&&a.push(we.Rj.Add,we.Rj.Delete,we.Rj.Reorder),!e&&t&&a.push(we.Rj.Add,we.Rj.Reorder),a}}Je.childContextTypes={id:u().string,lastSeen:u().oneOfType([u().number,u().oneOf([null])])},Je.defaultProps={lastSeen:null};const et=Je;var tt,at,nt,lt,rt,st,it=a("y8BT"),ot=a("FSqQ"),dt=a("+dDc"),ct=a("eq2Y"),ut=a("p/gB"),mt=a("fJgm"),pt=a("OPhi"),ht=a("34sk");let At=(0,i.Ay)({event:"updatepage",pagename:"playlist",pagecategory:"catalog"})(((at=class extends n.Component{constructor(e,t){super(e,t),this.state={error:null,loading:!0},this._onNbFanUpdate=this._onNbFanUpdate.bind(this),this._onThumbnailUpdate=this._onThumbnailUpdate.bind(this),this._updatePlaylistLastSeen=this._updatePlaylistLastSeen.bind(this)}componentDidMount(){const{appState:e,match:{params:t}}=this.props;this._loadPlaylist({id:t.id,rehydrateData:e?{...e,partial:!1}:void 0}),d.A.subscribe(d.A.user.addFavorite,this._onNbFanUpdate,"playlist"),d.A.subscribe(d.A.user.deleteFavorite,this._onNbFanUpdate,"playlist")}componentDidUpdate(e){const{loading:t,error:a}=this.state,{match:{params:n},data:l}=this.props;t||(e.data.PLAYLIST_ID!==n.id||l.partial)&&(a||(this._loadPlaylist({id:n.id}),this.props.tracking&&this.props.tracking.trackEvent()))}componentWillUnmount(){this._updatePlaylistLastSeen(),(0,ct.w8)(),d.A.unsubscribeAll("playlist")}render(){const{error:e,loading:t}=this.state;if(t)return nt||(nt=n.createElement(ot.A,null));if(e){if(e.constructor===o.m_)return lt||(lt=n.createElement(it.A,null));throw e}const{match:{params:a},data:l,fetchData:i,lastSeen:d,shouldExplicitBeHidden:c,dispatchUpdateTracklistOrder:u}=this.props;return Number(a.id)!==Number(l.PLAYLIST_ID)?rt||(rt=n.createElement(ot.A,null)):l.IS_LOVETRACKS?(r.A.replace((0,s.jd)(`/profile/${l.PARENT_USER_ID}/loved`)),null):l.IS_AVAILABLE?n.createElement(et,{data:l,id:a.id,fetchData:i,lastSeen:d,context:{ID:Number(a.id),TYPE:(0,ut.Us)(p.Ay.Playlist)},shouldExplicitBeHidden:c,updateTracklistOrder:u}):st||(st=n.createElement(it.A,null))}_onNbFanUpdate(e,t){const{match:{params:a},data:n}=this.props;if(Number(t.id)!==Number(a.id))return;const l="USER.addFavorite"===e.namespace?n.NB_FAN+1:n.NB_FAN-1;this.props.updatePlaylistFanCount({id:a.id,nbFan:l})}_onThumbnailUpdate(e,t){const{match:{params:a}}=this.props;Number(t.element_id)===Number(a.id)&&this.props.updateThumbnail({id:a.id,picture:t.md5,pictureType:t.type})}_updatePlaylistLastSeen(){const{match:{params:e},data:t,userID:a,lastSeen:n,serverTimestamp:l,clientTimestampDelta:r}=this.props,{IS_PERSONAL:s,IS_PRIVATE:i,SONGS:o}=t;0!==a&&n&&!s&&!i&&mt.A.isFavorite(p.Ay.Playlist,e.id)&&o.some((e=>e.isUnseen(n)))&&(this.props.dispatchUpdatePlaylistLastSeenDateAction(e.id,(0,E.mI)({SERVER_TIMESTAMP:l,clientTimestampDelta:r})),d.A.trigger(d.A.playlist.seen))}async _loadPlaylist(e){return await new Promise((e=>this.setState({loading:!0},e))),this.props.loadPlaylist(e).then((()=>this.setState({loading:!1,error:null}))).catch((e=>this.setState({loading:!1,error:e})))}}).displayName="playlist",at.defaultProps={appState:void 0,lastSeen:null},tt=at))||tt;const Et=(0,l.Ng)((({user:e,entities:t,feedbacks:a},{match:{params:n}})=>({userID:(0,E.F6)(e),shouldExplicitBeHidden:(0,E.Uw)(e)===Ve.g,serverTimestamp:e.SERVER_TIMESTAMP,clientTimestampDelta:e.clientTimestampDelta,data:(0,dt.lS)(t,{...n,currentUserId:(0,E.F6)(e)}),lastSeen:(0,pt.M2)(a,n.id)})),{loadPlaylist:ct.vW,updatePlaylistFanCount:ct.Io,updatePlaylistInfo:ct.SN,updateThumbnail:ct.C_,dispatchUpdatePlaylistLastSeenDateAction:ht.hh,dispatchUpdateTracklistOrder:ct.HV,fetchData:ct.vx})(At)},vF4p:(e,t,a)=>{a.d(t,{E6:()=>n,Xw:()=>r,pw:()=>l});let n=function(e){return e.home="home",e.loved="loved",e.playlists="playlists",e.albums="albums",e.artists="artists",e.shows="shows",e.podcasts="podcasts",e.history="history",e.radios="radios",e.personal_song="personal_song",e.downloads="downloads",e.following="following",e.followers="followers",e}({});const l=[n.loved,n.history,n.personal_song];let r=function(e){return e.downloads="favorite_downloaded_music",e.history="favorite_playlists_listening_history",e.home="favorite_tab",e.loved="favorite_tracks",e.playlists="favorite_playlists",e.albums="favorite_albums",e.artists="favorite_artists",e.shows="favorite_podcasts",e.resume="favorite_podcasts_ongoing",e.latest="favorite_podcasts_latest_episodes",e}({})},"4PKR":(e,t,a)=>{a.d(t,{Ay:()=>c,gA:()=>i,u4:()=>d,wZ:()=>o});var n=a("+9dH"),l=a("q1tI");const r=[[0,0],[1e3,90],[1e3,250],[970,90],[970,250],[728,90],[2160,1e3]],s=(0,l.createContext)({isScriptLoaded:!1,isSponsored:!1,setIsSponsored:()=>{},destroySlot1:()=>{},displayAdSlot:()=>{},isArchBanner:!1}),i=()=>(0,l.useContext)(s),o=({children:e})=>{const[t,a]=(0,l.useState)(!1),[n,i]=(0,l.useState)(!1),[o,d]=(0,l.useState)(""),[c,u]=(0,l.useState)(!1),m=e=>{e.size&&2160===e.size[0]?u(!0):u(!1)},p=e=>{const t=window.googletag;var a;return"function"==typeof t.pubads&&(t&&(null==t||null===(a=t.pubads())||void 0===a?void 0:a.getSlots())).some((t=>t.getSlotElementId()===e))};return(0,l.useEffect)((()=>{(e=>{const t=document.createElement("script");t.src="https://securepubads.g.doubleclick.net/tag/js/gpt.js",t.async=!0,document.body.appendChild(t),t.onload=()=>{window.googletag=window.googletag||{cmd:[]},a(!0)}})()}),[]),l.createElement(s.Provider,{value:{isScriptLoaded:t,setIsSponsored:i,isSponsored:n,displayAdSlot:e=>{const t=window.googletag;e&&d(e);const a=p("adslot1"),n=e||o;!a&&n&&t.cmd.push((()=>{var e;const a=null==t||null===(e=t.defineSlot(n,r,"adslot1"))||void 0===e?void 0:e.addService(t.pubads()).setTargeting("placement","web_adslot1");a&&t.pubads().addEventListener("impressionViewable",(e=>{const t=e.slot;setTimeout((()=>{googletag.pubads().refresh([t])}),3e4)})),a&&t.pubads().refresh([a])})),t.cmd.push((()=>{t.pubads().addEventListener("slotRenderEnded",m)}))},destroySlot1:()=>{const e=p("adslot1"),t=window.googletag;e&&t&&(null==t||t.destroySlots()),t.cmd.push((()=>{t.pubads().removeEventListener("slotRenderEnded",m)})),c&&u(!1)},isArchBanner:c}},e)},d=e=>t=>{const a=(0,l.useContext)(s);return l.createElement(e,(0,n.A)({},a,t))},c=s},y8BT:(e,t,a)=>{a.d(t,{A:()=>u});var n,l=a("q1tI"),r=a("TRpf"),s=a("GkjM"),i=a("Wp0Y"),o=a("WmA5"),d=a("HmE0");class c extends l.Component{constructor(e){super(e),this._onClick=this._onClick.bind(this)}render(){const{userID:e,userLang:t}=this.props,a=(0,i.AP)("Pour profiter du meilleur de Deezer, jetez un œil à nos <a %1$s>Univers</a> ou à <a %2$s>vos Coups de cœur</a>.",{sprintf:[`href="/${t}/channels/explore"`,`href="/${t}/profile/${e}/loved"`]});return l.createElement("div",{className:"naboo-not-found"},n||(n=l.createElement("div",{className:"title"},"404")),l.createElement("div",{className:"unavailable"},(0,i.AP)("Désolé, nous ne trouvons pas la page que vous recherchez")),l.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:a},onClick:this._onClick}),l.createElement(d.$n,{as:s.A,to:`/${this.props.userLang}/`},(0,i.AP)("Explorer")))}_onClick(e){const t=e.target;"a"===t.tagName.toLowerCase()&&(o.A.replace(t.getAttribute("href")),e.preventDefault())}}const u=(0,r.Ng)((({user:e})=>({userID:e.id,userLang:e.SETTING_LANG})))(c)},B3z3:(e,t,a)=>{a.d(t,{A:()=>i});var n=a("+9dH"),l=a("q1tI"),r=a("GkjM"),s=a("pVdW");const i=({children:e,to:t,...a})=>l.createElement(s.E,(0,n.A)({as:"span",variant:"body.default.l",color:"text.neutral.primary.default",_hover:{textDecoration:"underline"}},a),l.createElement(r.A,{to:t,"data-testid":"creator-name"},e))},uSSP:(e,t,a)=>{a.d(t,{A:()=>i});var n=a("+9dH"),l=a("q1tI"),r=a("GkjM"),s=a("3H/6");const i=({text:e,to:t,children:a,className:i="",...o})=>{var d;return l.createElement("li",(0,n.A)({className:i},o),null!==(d=e&&l.createElement(s.m,{label:e},l.createElement(r.A,{to:t},a)))&&void 0!==d?d:l.createElement(r.A,{to:t},a))}},lDkB:(e,t,a)=>{a.d(t,{A:()=>s});var n=a("q1tI"),l=a("juqV"),r=a("sk1u");const s=({children:e,className:t=""})=>{const a=(0,l.A)(r.A.thumbnailList,t);return n.createElement("ul",{className:a},e)}},IqfE:(e,t,a)=>{a.d(t,{A:()=>r});var n=a("q1tI"),l=a("pVdW");const r=({children:e,className:t=""})=>n.createElement(l.E,{color:"text.neutral.secondary.default",variant:"body.default.l","data-testid":"masthead-description",mt:"spacing.xl",noOfLines:2,className:t},e)},WQvr:(e,t,a)=>{a.d(t,{A:()=>r});var n=a("q1tI"),l=a("CdHq");const r=({children:e,className:t=""})=>n.createElement(l.s,{alignItems:"center",gap:"spacing.s","data-testid":"masthead-subtitle",className:t},e)},sdUN:(e,t,a)=>{a.d(t,{A:()=>b});var n=a("q1tI"),l=a("5G9X");function r({type:e,data:{SNG_TITLE:t,ART_NAME:a,ALB_TITLE:r,TITLE:s,SUBTITLE:i,SHOW_NAME:o,EPISODE_TITLE:d}}){const c={[l.Ay.Track]:()=>t,[l.Ay.Show]:()=>o,[l.Ay.Playlist]:()=>s,[l.Ay.Artist]:()=>a,[l.Ay.Album]:()=>r,[l.Ay.Episode]:()=>d,[l.Ay.Smarttracklist]:()=>`${s} ${i}`}[e];return c?n.createElement("meta",{itemProp:"name",content:c()}):null}var s=a("Wp0Y");function i({type:e,data:{SHOW_DESCRIPTION:t,DESCRIPTION:a,EPISODE_DESCRIPTION:r,ALB_TITLE:i,ART_NAME:o,ORIGINAL_RELEASE_DATE:d,PHYSICAL_RELEASE_DATE:c,TITLE:u,SUBTITLE:m}}){const p={[l.Ay.Show]:()=>t,[l.Ay.Playlist]:()=>a,[l.Ay.Album]:()=>(0,s.AP)("%s de %s - Année de production %s",{sprintf:[i,o,new Date(d||c||Date.now()).getFullYear()]}),[l.Ay.Episode]:()=>r,[l.Ay.Smarttracklist]:()=>a||`${u} ${m}`}[e];return p?n.createElement("p",{className:"hidden",itemProp:"description"},p()):null}var o=a("hz5U");function d({type:e,data:t}){return n.createElement("meta",{itemProp:"image",content:o.A.getImageSrcForData(e,t,200,200)})}var c=a("iooo");function u({type:e,data:{SNG_ID:t,SHOW_ID:a,PLAYLIST_ID:r,ART_ID:s,ALB_ID:i,EPISODE_ID:o,SMARTTRACKLIST_ID:d}}){const u={[l.Ay.Track]:()=>`/track/${t}`,[l.Ay.Show]:()=>`/show/${a}`,[l.Ay.Playlist]:()=>`/playlist/${r}`,[l.Ay.Artist]:()=>`/artist/${s}`,[l.Ay.Album]:()=>`/album/${i}`,[l.Ay.Episode]:()=>`/episode/${o}`,[l.Ay.Smarttracklist]:()=>`/smarttracklist/${d}`}[e];return u?n.createElement("meta",{itemProp:"url",content:(0,c.jd)(u())}):null}function m({type:e,data:{EPISODE_PUBLISHED_TIMESTAMP:t}}){const a={[l.Ay.Episode]:()=>new Date(t.replace(" ","T")+"Z").toISOString()}[e];return a?n.createElement("meta",{itemProp:"datePublished",content:a()}):null}function p({type:e,data:{DURATION:t}}){const a={[l.Ay.Track]:()=>`PT${Math.floor(t/60)}M${t%60}S`,[l.Ay.Episode]:()=>`PT${Math.floor(t/60)}M${t%60}S`}[e];return a?n.createElement("meta",{itemProp:"duration",content:a()}):null}function h({type:e,data:{EPISODES:t,NB_SONG:a}}){const r={[l.Ay.Show]:()=>t.total,[l.Ay.Smarttracklist]:()=>a}[e];return r?n.createElement("meta",{itemProp:"numTracks",content:r()}):null}function A({type:e,data:{ARTISTS:t}}){const a={[l.Ay.Album]:()=>t||[],[l.Ay.Track]:()=>t||[]}[e];if(!a)return null;const r=a().find((e=>0===Number(e.ROLE_ID)||5===Number(e.ROLE_ID)));return r?n.createElement("div",{itemProp:"byArtist",itemScope:"itemscope",itemType:"http://schema.org/MusicGroup"},n.createElement("meta",{itemProp:"url",content:`/artist/${r.ART_ID}`}),n.createElement("meta",{itemProp:"name",content:r.ART_NAME})):null}var E,y,_,I,S,g,f=a("TRpf"),T=a("Vd8Q"),v=a("xobL");const P=(0,f.Ng)((({user:e})=>({userLang:(0,v.Z0)(e)})))((function({type:e,data:{SHOW_ID:t,ART_ID:a,ALB_ID:r,SMARTTRACKLIST_ID:s},userLang:i}){const o={[l.Ay.Show]:()=>`/show/${t}?autoplay=true`,[l.Ay.Artist]:()=>`/artist/${a}?autoplay=true`,[l.Ay.Album]:()=>`/album/${r}?autoplay=true`,[l.Ay.Smarttracklist]:()=>`/smarttracklist/${s}?autoplay=true`}[e];return o?n.createElement("div",{key:"action",itemProp:"potentialAction",itemScope:!0,itemType:"http://schema.org/ListenAction"},n.createElement("div",{itemProp:"target",itemScope:!0,itemType:"http://schema.org/EntryPoint"},n.createElement("meta",{itemProp:"urlTemplate",content:`https://${T.default.get("host_website_ssl")}${o()}`}),E||(E=n.createElement("meta",{itemProp:"actionPlatform",content:"http://schema.org/DesktopWebPlatform"})),y||(y=n.createElement("meta",{itemProp:"actionPlatform",content:"http://schema.org/IOSPlatform"})),_||(_=n.createElement("meta",{itemProp:"actionPlatform",content:"http://schema.org/AndroidPlatform"})),I||(I=n.createElement("meta",{itemProp:"actionPlatform",content:"http://schema.googleapis.com/GoogleAudioCast"})),S||(S=n.createElement("meta",{itemProp:"actionPlatform",content:"http://schema.googleapis.com/GoogleVideoCast"})),n.createElement("meta",{itemProp:"inLanguage",content:i})),n.createElement("div",{itemProp:"expectsAcceptanceOf",itemScope:!0,itemType:"http://schema.org/Offer"},g||(g=n.createElement("meta",{itemProp:"category",content:"subscription"})),T.default.get("country_opened").map((e=>n.createElement("div",{key:e,itemProp:"eligibleRegion",itemScope:!0,itemType:"http://schema.org/Country"},n.createElement("meta",{itemProp:"name",content:e})))))):null}));function b(e){return n.createElement("div",null,n.createElement(r,e),n.createElement(i,e),n.createElement(d,e),n.createElement(u,e),n.createElement(m,e),n.createElement(p,e),n.createElement(h,e),n.createElement(A,e),n.createElement(P,e))}},lI2z:(e,t,a)=>{a.d(t,{A:()=>d});var n,l=a("q1tI"),r=a("w/ZN"),s=a("Wp0Y"),i=a("CdHq"),o=a("y7xR");const d=({value:e})=>l.createElement(i.s,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center"},n||(n=l.createElement(r.i,{mb:"spacing.l",color:"icon.neutral.secondary.default",boxSize:"12",scale:"3"})),l.createElement(o.D,{as:"p",fontSize:"lg",fontWeight:"semibold",pb:"spacing.m"},(0,s.AP)("emptystate_title_noresultsforXsearchterm_web",{sprintf:[e]})))},M5EV:(e,t,a)=>{a.d(t,{A:()=>s});var n=a("q1tI"),l=a("Tyyv"),r=a("dShs");const s=({isHover:e=!1,isActive:t=!1,size:a="medium",color:s="white"})=>t?n.createElement(l.r,{size:a,color:s,isPaused:e}):n.createElement(r.S,{size:a})},KsB9:(e,t,a)=>{a.d(t,{A:()=>x});var n,l,r=a("q1tI"),s=a("1Uwb"),i=a("8m9I"),o=a("Wp0Y"),d=a("xCFc"),c=a("ftFY"),u=a("STEc"),m=a("LGn+"),p=a("pQlO"),h=a("SF1U"),A=a("W1Rt"),E=a("TDRX"),y=a("pVdW"),_=a("HmE0"),I=a("o+h5"),S=a("hz5U");const g=({tableItem:e,style:t,isAdded:a,addToPlaylist:i,removeFromPlaylist:o})=>{var c;const{shouldExplicitBeHidden:g}=(0,d.$A)(),f=e.item.hasExplicitLyrics&&g,T=e.item.parent.hasExplicitCover&&g;return r.createElement(s.A.Row,{style:t,type:e.item.type,uuid:e.uuid,id:e.item.id,isRestrictedByExplicit:f},r.createElement(m.A,{size:u.uq.Full},r.createElement(E.a,{me:"1"},T?r.createElement("img",{src:S.A.getExplicitSrc(I.r4.width,I.r4.height),height:I.r4.height,width:I.r4.width}):r.createElement("img",{src:e.item.cover(I.r4).url,height:e.item.cover(I.r4).height,width:e.item.cover(I.r4).width,alt:""})),r.createElement(m.A.Label,{hasExplicitLyrics:e.item.hasExplicitLyrics,label:e.item.title})),r.createElement(s.A.CellBody,{size:u.uq.Full},r.createElement(y.E,{variant:"body.s.default"},null===(c=e.item.artist)||void 0===c?void 0:c.name)),r.createElement(s.A.CellBody,{size:u.uq.Full},r.createElement(y.E,{variant:"body.s.default"},e.item.parent.name)),r.createElement(s.A.CellBody,{size:u.uq.md},r.createElement(p.A,{duration:e.item.duration})),r.createElement(s.A.CellBody,{size:u.uq.xs},r.createElement(_.K0,{"aria-label":a?"Remove track":"Add track",variant:"ghost",onClick:()=>{if(a)return o(e);i(e)},icon:a?n||(n=r.createElement(h.e,{color:"icon.accent.primary.default"})):l||(l=r.createElement(A.G,null))})))};var f,T=a("1Pdy"),v=a("TRpf"),P=a("+dDc"),b=a("eq2Y"),R=a("AfN5");const x=({items:e,playlistId:t,shouldExplicitBeHidden:a,source:n,onPlaylistUpdate:l})=>{const m={id:t,type:R.Kk.PLAYLIST_ASSISTANT},p={ID:t,TYPE:R.Kk.PLAYLIST_ASSISTANT,CONTEXT_ID:n},h=(0,d.Ay)({container:m,context:p,shouldExplicitBeHidden:a,hasBackground:!1}),{SONGS:A,IS_PERSONAL:E}=(0,v.d4)((e=>(0,P.lS)(e.entities,{id:t,currentUserId:e.user.id}))),y=(0,v.wA)(),_=e=>{y((0,b.ym)({song_id_list:[e.item.id],playlist_id:t,data:{context:p}})),null==l||l()},I=e=>{E&&(y((0,b.Vc)({songs:[[Number(e.item.id),Number(e.item.id)>0?0:1]],playlist_id:t,context:p})),null==l||l())},{tableItems:S}=(0,c.A)(t,e,p);return r.createElement(d.ru,{value:h},r.createElement(s.A,{rowCount:e.length},r.createElement(s.A.Header,null,r.createElement(s.A.CellHead,{size:u.uq.Full},(0,o.AP)("datagrid_title_trackUPP_web")),r.createElement(s.A.CellHead,{size:u.uq.Full},(0,o.AP)("datagrid_title_artistUPP_web")),r.createElement(s.A.CellHead,{size:u.uq.Full},(0,o.AP)("datagrid_title_albumUPP_web")),r.createElement(s.A.CellHead,{size:u.uq.md,ariaLabel:(0,o.AP)("sortingmenu_title_duration_web")},f||(f=r.createElement(i.m,null))),r.createElement(s.A.CellHead,{size:u.uq.xs})),r.createElement(s.A.Body,null,S.toDisplay.map((e=>r.createElement(g,{tableItem:e,style:{height:T.F4.md},key:e.item.id,isAdded:A.some((t=>t.SNG_ID===e.item.id)),addToPlaylist:_,removeFromPlaylist:I}))))))}},XLml:(e,t,a)=>{a.d(t,{A:()=>p});var n=a("+9dH"),l=a("q1tI"),r=a("fSLK"),s=a("pkJ8"),i=a("TRpf"),o=a("xobL"),d=a("a9NY");const c=(e,t,a=150)=>{const n=l.useRef(null),{height:r}=(0,d.A)(),c=(0,i.d4)((e=>(0,o.iJ)(e.user)));return l.useEffect((()=>{const n=(0,s.A)((a=>{a.stopPropagation(),(()=>{const{y:a=0}=t.current?t.current.getBoundingClientRect():{},n=a+window.scrollY;e.current&&n>0&&e.current.scrollTo(window.pageYOffset-n)})()}),a);return document.addEventListener("scroll",n,{passive:!0}),()=>{n.cancel(),document.removeEventListener("scroll",n)}})),{direction:c,outerRef:n,height:r||0,style:{overflow:"hidden",height:"100%"},width:"100%"}};var u=a("1Pdy");const m=l.forwardRef((({children:e,items:t,onItemsRendered:a,rowHeight:s=u.F4.md,tableRef:i},o)=>{const d=l.useRef(null),m=c(d,i);return l.createElement(r.Y1,(0,n.A)({},m,{onItemsRendered:a,itemSize:s,itemCount:t.toDisplay.length,itemData:t,ref:e=>{"function"==typeof o&&o(e),d.current=e}}),e)}));m.displayName="list";const p=m},"3AbJ":(e,t,a)=>{a.d(t,{A:()=>s}),a("/eM8");var n=a("q1tI"),l=a("iiSH"),r=a("t08u");const s=(e,t,a,s,i,o=l.XQ,d=l.ww)=>{const[c,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)(!1),{triggerTracking:h}=(0,r.A)(i.TYPE),A=(0,n.useCallback)((async()=>{a||c||m||(p(!0),await e({id:t,start:s,nb:d}),p(!1),h({action:"fetch",eventaction:"fetch-"+(d>l.ww?"all":"next")}))}),[d,t,a,c,m,s,e,h]),E=(0,n.useCallback)((async()=>{a||(u(!0),await e({id:t,start:s,nb:o}),u(!1),h({action:"fetch",eventaction:"fetch-all"}))}),[t,a,o,s,e,h]);return{loadingStatus:{isLoadingNext:m,isLoadingAll:c,isFullyFetched:a},fetchNext:A,fetchAll:E}}},CTxd:(e,t,a)=>{a.d(t,{Ay:()=>k});var n=a("+9dH"),l=a("q1tI"),r=a("juqV"),s=a("TRpf"),i=a("Ty5D"),o=a("TDRX"),d=a("CdHq"),c=a("siwx"),u=a("//u0"),m=a("P/T7"),p=a("MMCw"),h=a("LjZa"),A=a("xobL"),E=a("iooo"),y=a("5G9X"),_=a("Fg+i"),I=a("hz5U"),S=a("Vd8Q"),g=a("FMs+"),f=a("kPsn");const T=(e,t=f.SE.MEDIUM)=>e?e.small&&t<=f.SE.SMALL?e.small:e.medium&&t<=f.SE.MEDIUM?e.medium:e.large||[]:[],v=(e,t,a)=>!e||!e.length||t>=e.length?((e,t=f.SE.MEDIUM)=>`https://${S.default.get("host_img_url_ssl")}/${e}/d41d8cd98f00b204e9800998ecf8427e/${t}x${t}-000000-80-0-0.jpg`)(a):e[t];var P=a("sAMA");const C=({children:e,alt:t,urls:a,isExplicit:S,className:f,height:C,isActive:k=!1,rounded:O,type:U,width:B,hasOverlay:F,onClick:M,redirectUrl:H,genericType:z})=>{var $;const[q,Y]=(0,l.useState)(0),[W,j]=(0,l.useState)(),G=(0,s.d4)((e=>(0,A.Uw)(e.user))),V=(0,s.d4)((e=>(0,A.NF)(e.user))),X=S&&G===P.g,Z=(0,i.zy)(),K=(0,i.W6)(),Q=(0,l.useCallback)((e=>{j((e=>{try{const{color:t,visiblePixelsPercentage:a}=(0,g.xH)(e);if(a>10)return(0,g.s3)(t)}catch(e){}return"rgba(0,0,0,0)"})(e.target))}),[]),J=(0,l.useCallback)((()=>{Y(q+1)}),[q]),ee=(0,l.useCallback)((()=>{M&&M(),H&&H!==(null==Z?void 0:Z.pathname)&&K.push((0,E.jd)(H))}),[K,null==Z?void 0:Z.pathname,M,H]),te={className:(0,r.A)("tfT2j",f,{wbExq:O,oQNuQ:!F||!e,MvB5w:X,gAdNo:H,VuV5A:k}),onClick:ee},ae={};X&&(ae.style={backgroundImage:`url(${I.A.getExplicitSrc(B,C)})`,backgroundColor:`${W}`,backgroundBlendMode:"multiply",backgroundSize:"100%"});const ne={alt:t,className:"KVvol",crossOrigin:"anonymous",htmlHeight:`${C}px`,loading:"lazy",src:v(T(a,Number(B)),q,U),htmlWidth:`${B}px`,onLoad:S?Q:h.A,onError:J},le=null===($=ne.src)||void 0===$?void 0:$.includes(I.A.PLACEHOLDER_LOVED_TRACKS_MD5),re=z===_.eb.resume,se=z===_.eb.latest;return U===y.Ay.Generic&&(se||re)||le?l.createElement(o.a,(0,n.A)({as:"figure"},te),l.createElement(o.a,(0,n.A)({as:"div",borderRadius:"s"},ae,{height:"100%"}),l.createElement(d.s,{backgroundColor:V?"#FF8564":"#FFD0C3",justifyContent:"center",alignItems:"center",height:"100%",width:"100%"},le?l.createElement(u.C,{size:"medium",boxSize:"50%",color:V?"#B5492B":"#E85E38"}):re?l.createElement(m.x,{size:"medium",boxSize:"50%",color:V?"#B5492B":"#E85E38"}):l.createElement(p.X,{size:"medium",boxSize:"50%",color:V?"#B5492B":"#E85E38"})))):l.createElement(o.a,(0,n.A)({as:"figure"},te),l.createElement(o.a,(0,n.A)({as:"div",borderRadius:"s","data-testid":"figure-style"},ae),l.createElement(c._,(0,n.A)({width:`${B}px`,borderRadius:O?"full":"s","data-testid":`${U}-cover`,objectFit:"cover"},ne)),e))};C.defaultProps={height:320,width:320,rounded:!1,hasOverlay:!0};const k=C},a9NY:(e,t,a)=>{a.d(t,{A:()=>l});var n=a("q1tI");function l(){const e="object"==typeof window,[t,a]=(0,n.useState)({width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0});return(0,n.useEffect)((()=>{if(!e)return()=>{};const t=()=>{a({width:e?window.innerWidth:void 0,height:e?window.innerHeight:void 0})};return window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)}),[]),t}},fPrZ:(e,t,a)=>{a.d(t,{CY:()=>i,TE:()=>s,wH:()=>o});const n="ads/ADD_ARGS_ADS",r=document.styleSheets.length;function s(e){return{type:n,args:e}}const i=e=>(t,a)=>{let n;e&&(n=`sas_${e}`),window.sas&&window.sas.clean&&(window.sas.clean(n),e?t(d(e)):a().ads.shownFormatIds.forEach((e=>{t(d(e))})));const l=/sas_[0-9]{0,}/,s=document.styleSheets.length;if(s!==r&&s>0){const e=s-1,t=document.styleSheets[e];!1!==l.test(t.innerHTML)&&t.ownerNode.parentNode.removeChild(t.ownerNode)}return t({type:"ads/CLEAN_ADS"})},o=e=>"none"===document.getElementById(`sas_${e}`).style.display,d=e=>({type:"ads/HIDE_FORMAT",formatId:e})},M3gt:(e,t,a)=>{a.d(t,{A:()=>s});var n=a("q1tI"),l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t};const s=function(e){function t(){var e,a,n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,s=Array(l),i=0;i<l;i++)s[i]=arguments[i];return a=n=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._lastRenderedStartIndex=-1,n._lastRenderedStopIndex=-1,n._memoizedUnloadedRanges=[],n._onItemsRendered=function(e){var t=e.visibleStartIndex,a=e.visibleStopIndex;n._lastRenderedStartIndex=t,n._lastRenderedStopIndex=a,n._ensureRowsLoaded(t,a)},n._setRef=function(e){n._listRef=e},r(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"resetloadMoreItemsCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._memoizedUnloadedRanges=[],e&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return(0,this.props.children)({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(e,t){var a=this.props,n=a.isItemLoaded,l=a.itemCount,r=a.minimumBatchSize,s=void 0===r?10:r,i=a.threshold,o=void 0===i?15:i,d=function(e){for(var t=e.isItemLoaded,a=e.itemCount,n=e.minimumBatchSize,r=e.stopIndex,s=[],i=null,o=null,d=e.startIndex;d<=r;d++)t(d)?null!==o&&(s.push(i,o),i=o=null):(o=d,null===i&&(i=d));if(null!==o){for(var c=Math.min(Math.max(o,i+n-1),a-1),u=o+1;u<=c&&!t(u);u++)o=u;s.push(i,o)}if(s.length)for(;s[1]-s[0]+1<n&&s[0]>0;){var m=s[0]-1;if(t(m))break;s[0]=m}return s}({isItemLoaded:n,itemCount:l,minimumBatchSize:s,startIndex:Math.max(0,e-o),stopIndex:Math.min(l-1,t+o)});(this._memoizedUnloadedRanges.length!==d.length||this._memoizedUnloadedRanges.some((function(e,t){return d[t]!==e})))&&(this._memoizedUnloadedRanges=d,this._loadUnloadedRanges(d))}},{key:"_loadUnloadedRanges",value:function(e){for(var t=this,a=this.props.loadMoreItems||this.props.loadMoreRows,n=function(n){var l=e[n],r=e[n+1],s=a(l,r);null!=s&&s.then((function(){if(function(e){return!(e.startIndex>e.lastRenderedStopIndex||e.stopIndex<e.lastRenderedStartIndex)}({lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:l,stopIndex:r})){if(null==t._listRef)return;"function"==typeof t._listRef.resetAfterIndex?t._listRef.resetAfterIndex(l,!0):("function"==typeof t._listRef._getItemStyleCache&&t._listRef._getItemStyleCache(-1),t._listRef.forceUpdate())}}))},l=0;l<e.length;l+=2)n(l)}}]),t}(n.PureComponent)},LWGD:(e,t,a)=>{a.d(t,{A:()=>s});var n=a("Lrj8"),l=a("nIb6"),r=a("diin");const s=(0,l.A)((function(e,t){return(0,r.A)(e)?(0,n.A)(e,t):[]}))}}]);