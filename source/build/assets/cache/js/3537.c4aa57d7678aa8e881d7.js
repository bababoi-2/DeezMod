"use strict";(self.webpackJsonpDeezer=self.webpackJsonpDeezer||[]).push([[3537],{V26n:(t,n,e)=>{e.d(n,{e:()=>s});var i=e("LZ+A");const s=t=>new i._$(t)},"f/uw":(t,n,e)=>{e.d(n,{q:()=>i});class i{constructor(t){this.api=void 0,this.api=t}}},"LZ+A":(t,n,e)=>{e.d(n,{Pw:()=>s,_$:()=>o,fH:()=>r,lR:()=>i});class i extends Error{}class s extends i{constructor(t){super(`You must init ${t} sdk before using it`)}}class o extends i{constructor(t){super(t.message),this.payload=void 0,this.response=void 0,this.name=t.name,this.response=t.response,this.payload=t.payload}}class r extends Error{constructor(...t){super(...t),this.message="popup_closed_by_user"}}},T53H:(t,n,e)=>{e.r(n),e.d(n,{FacebookAuth:()=>m});var i=e("+9dH"),s=e("/0+J"),o=e("MVPB"),r=e("4OMY"),c=e("V26n"),a=e("f/uw");let u=function(t){return t.AUTH="facebook.auth",t.LINK_ACCOUNT="facebook.linkAccount",t.UNLINK_ACCOUNT="facebook.unlinkAccount",t}({});class d extends a.q{constructor(t){var n;super(t),n=this,this.connect=function(){var t=(0,s.A)((function*(t){try{return yield n.api.call({method:u.AUTH,data:t})}catch(t){throw(0,c.e)(t)}}));return function(n){return t.apply(this,arguments)}}(),this.unlinkAccount=(0,s.A)((function*(){try{return yield n.api.call({method:u.UNLINK_ACCOUNT,data:{}})}catch(t){throw(0,c.e)(t)}})),this.linkAccount=function(){var t=(0,s.A)((function*(t){try{return yield n.api.call({method:u.LINK_ACCOUNT,data:t})}catch(t){throw(0,c.e)(t)}}));return function(n){return t.apply(this,arguments)}}()}}var h=e("/YxT"),l=e("LZ+A");const p=t=>({version:"v9.0",appId:"development"===t?"213540488678717":"241284008322",scope:"email,user_birthday"});var A=(0,r.A)("initialLoginStatus"),f=(0,r.A)("hasInit"),v=(0,r.A)("addFacebookSDK");class w{get hasInit(){return(0,o.A)(this,f)[f]}constructor(t){Object.defineProperty(this,A,{writable:!0,value:void 0}),Object.defineProperty(this,f,{writable:!0,value:!1}),this.config=void 0,Object.defineProperty(this,v,{writable:!0,value:(t="en_US",n="facebook-jssdk")=>{if(document.getElementById(n))return void window.fbAsyncInit();const e=document.createElement("script");e.id=n,e.async=!0,e.defer=!0,e.crossOrigin="anonymous",e.src=`https://connect.facebook.net/${t}/sdk.js`,document.head.appendChild(e)}}),this.signout=()=>{window.FB.logout((()=>{}))},this.signin=t=>new Promise(((n,e)=>{var s,r,c;"connected"!==(null==(s=(0,o.A)(this,A)[A])?void 0:s.status)?window.FB.login((t=>{t.authResponse&&"connected"===t.status||e(new l.fH),n(t)}),(0,i.A)({scope:null!=(r=null==(c=this.config)?void 0:c.scope)?r:"",return_scopes:!0},t)):n((0,o.A)(this,A)[A])})),this.config=p("production"),t&&this.setConfig(t)}setConfig(t){this.config=(0,h.z)(this.config,t,",")}init({addScript:t=!0,env:n,lang:e}){return new Promise((s=>{window.fbAsyncInit=()=>{var t;const e=null!=(t=this.config)?t:p(null!=n?n:"production");window.FB.init((0,i.A)({},e,{status:!0,xfbml:!1})),window.FB.getLoginStatus((t=>{"connected"===t.status&&((0,o.A)(this,A)[A]=t)})),(0,o.A)(this,f)[f]=!0,s()},t&&(0,o.A)(this,v)[v](e)}))}}var y=(0,r.A)("api"),g=(0,r.A)("sdk"),b=(0,r.A)("tokenCache"),k=(0,r.A)("getToken");class m{constructor(t,n){var e=this;Object.defineProperty(this,k,{value:I}),Object.defineProperty(this,y,{writable:!0,value:void 0}),Object.defineProperty(this,g,{writable:!0,value:void 0}),Object.defineProperty(this,b,{writable:!0,value:void 0}),this.signin=function(){var t=(0,s.A)((function*(t){e.assertSDKIsInitialized((0,o.A)(e,g)[g]);const n=yield(0,o.A)(e,k)[k]();return(0,o.A)(e,y)[y].connect((0,i.A)({access_token:n},t))}));return function(n){return t.apply(this,arguments)}}(),this.setConfig=t=>(0,o.A)(this,g)[g].setConfig(t),this.linkAccount=function(){var t=(0,s.A)((function*(t){e.assertSDKIsInitialized((0,o.A)(e,g)[g]);const n=yield(0,o.A)(e,k)[k]();return yield(0,o.A)(e,y)[y].linkAccount((0,i.A)({access_token:n},t)),!0}));return function(n){return t.apply(this,arguments)}}(),this.unlinkAccount=()=>(0,o.A)(this,y)[y].unlinkAccount(),this.signout=()=>{this.assertSDKIsInitialized((0,o.A)(this,g)[g]),(0,o.A)(this,g)[g].signout()},(0,o.A)(this,y)[y]=new d(t),(0,o.A)(this,g)[g]=new w(n)}assertSDKIsInitialized(t){if(!t.hasInit)throw new l.Pw("facebook")}init({env:t,lang:n="en_US",addScript:e=!0}){return(0,o.A)(this,g)[g].init({addScript:e,env:t,lang:n})}}function I(){return _.apply(this,arguments)}function _(){return(_=(0,s.A)((function*(){return(0,o.A)(this,b)[b]?(0,o.A)(this,b)[b]:(0,o.A)(this,g)[g].signin().then((t=>{if(!t.authResponse.accessToken)throw new l.lR("no auth token received");return(0,o.A)(this,b)[b]=t.authResponse.accessToken,(0,o.A)(this,b)[b]}))}))).apply(this,arguments)}},"/YxT":(t,n,e)=>{e.d(n,{z:()=>o});var i=e("+9dH"),s=e("Nlia");const o=(t,n,e=" ")=>{const{scopes:o}=n,r=(0,s.A)(n,["scopes"]),c=o?((t,n=" ")=>"string"==typeof t?t:t.join(n))(o,e):t.scope;return(0,i.A)({},t,r,{scope:c})}}}]);